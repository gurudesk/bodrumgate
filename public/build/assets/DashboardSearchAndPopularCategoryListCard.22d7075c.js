import v from"./PsLabel.3cf95094.js";import S from"./PsButton.bc5ed803.js";import P from"./PsRouteLink.8f7df026.js";import I from"./PsIcon.dc31c2db.js";import k from"./SearchForLargeScreen.e9f53a11.js";import{P as L}from"./PsValueStore.a232cbb1.js";import{u as w}from"./CategoryStore.8359ddd4.js";import{u as N}from"./TouchCountStore.0d2b8ef3.js";import{u as T}from"./AppInfoStore.266a6525.js";import{T as A}from"./TouchCountParameterHolder.9ce47d98.js";import B from"./PsLazyImage.38e4a2ae.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";import{i as j,y as H,j as U,o as i,c as u,a as l,f as z,g as b,b as n,w as m,q as _,t as f,F as $,s as D,r as d}from"./app.0e502cc5.js";import"./PsLabelCaption.a33ce9c4.js";import"./PsInputWithLeftIcon.ae1f5479.js";import"./PsDropdown.f31a931d.js";import"./PsInputWithRightIcon.f020751b.js";import"./LocationParameterHolder.a5eab253.js";import"./PsApiService.98e573c3.js";import"./ItemLocation.d1b92a80.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";import"./ps_constants.0e2a11f9.js";import"./ProductStore.279e879d.js";import"./ProductParameterHolder.4354be0b.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./DefaultPhoto.cc755f93.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./AppInfoParameterHolder.e24d894d.js";import"./PsStore.f4ecabdb.js";const F={name:"DashboardSearchAndPopularCategoryListCard",components:{PsLabel:v,PsButton:S,PsRouteLink:P,PsIcon:I,SearchForLargeScreem:k,PsLazyImage:B},props:{bannerImgPath:{type:String,default:""},limit:{type:Number,default:12},showSubCat:{type:Boolean,default:!0}},setup(o){const r=L().getLoginUserId(),a=T(),c=j(!0),x=H({lifecycle:{loading:()=>{c.value=!0},error:()=>{c.value=!1},loaded:()=>{c.value=!1}}}),h=N(),t=new A;t.typeName="category",t.userId=r;const e=w("dashboard_popular_cat");e.limit=o.limit,e.paramHolder.keyword="",e.paramHolder.orderType="desc",e.paramHolder.orderBy="category_touch_count";function g(s){t.typeId=s,h.postTouchCount(r,t)}function y(s){console.log(s)}return U(()=>{e.resetCategoryList(r,e.paramHolder)}),{appInfoStore:a,lazyOptions:x,is_banner_loading:c,popularCategoryStore:e,updateCategoryTouchCount:g,handleLoad:y}}},q={class:"mt-24 w-full"},E={class:"bg-feAchromatic-900 relative"},M={class:"w-full h-[530px] sm:h-[485px] object-cover relative flex justify-center items-center"},O={class:"absolute top-0 w-full h-full flex flex-col justify-center gap-5 sm:gap-8"},R={class:"text-center"},G={class:"bg-feAchromatic-50 dark:bg-feSecondary-800 rounded-lg px-4 py-4 sm:py-2 mx-auto"},J={class:"h-20"},K={key:0,class:"flex justify-center flex-wrap gap-x-2 sm:gap-x-4 gap-y-4"};function Q(o,C,r,a,c,x){var s;const h=d("ps-lazy-image"),t=d("ps-label"),e=d("search-for-large-screem"),g=d("ps-button"),y=d("ps-route-link");return i(),u("div",q,[l("div",E,[l("div",M,[a.appInfoStore.loading.value?b("",!0):(i(),z(h,{key:0,class:"w-full opacity-60 h-[530px] sm:h-[485px] object-cover",src:o.$page.props.uploadUrl+"/"+r.bannerImgPath,srcPlaceholder:o.$page.props.thumb1xUrl+"/"+r.bannerImgPath,error:this.$page.props.sysImageUrl+"/default_photo.png"},null,8,["src","srcPlaceholder","error"]))]),l("div",O,[l("div",R,[n(t,{class:"text-xl font-semibold mb-4 sm:text-4xl xl:text-5xl",textColor:"text-fePrimary-50"},{default:m(()=>[_(f(o.$t("home__banner_header")),1)]),_:1}),n(t,{class:"text-base font-normal px-10",textColor:"text-fePrimary-50"},{default:m(()=>[_(f(o.$t("home__banner_desc")),1)]),_:1})]),l("div",G,[n(e)]),l("div",J,[n(t,{class:"text-center text-sm font-normal mb-4",textColor:"text-fePrimary-50"},{default:m(()=>[_(f(o.$t("home__popular_categories")),1)]),_:1}),((s=a.popularCategoryStore.itemList)==null?void 0:s.data)!=null?(i(),u("div",K,[(i(!0),u($,null,D(a.popularCategoryStore.itemList.data.slice(0,6),p=>(i(),u("div",{key:p.catId,class:""},[n(y,{to:{name:r.showSubCat?"fe_sub_category":"fe_item_list",query:{cat_id:p.catId,cat_name:p.catName,status:1}},onClick:W=>a.updateCategoryTouchCount(p.catId)},{default:m(()=>[n(g,{class:"flex flex-row",rounded:"rounded",colors:"bg-feAchromatic-50 dark:bg-feSecondary-800 text-feSecondary-800 dark:text-feSecondary-100 hover:text-fePrimary-500 hover:dark:text-fePrimary-500",hover:"",focus:""},{default:m(()=>[_(f(p.catName),1)]),_:2},1024)]),_:2},1032,["to","onClick"])]))),128))])):b("",!0)])])])])}var ze=V(F,[["render",Q],["__scopeId","data-v-20e1f0ec"]]);export{ze as default};
