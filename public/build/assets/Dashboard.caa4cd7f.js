import{aJ as Q,bC as Y,Z as $,i as e,j as oo,N as to,aX as ro,bH as eo,k as io,o as i,c as G,f as n,g as a,a as ao,B,r as s}from"./app.0e502cc5.js";import no from"./DashboardSearchAndPopularCategoryListCard.22d7075c.js";import so from"./DashboardCategoryHorizontalList.eddd6d74.js";import mo from"./DashboardHowItWorksCard.ab3e63b2.js";import lo from"./DashboardFeaturedItemHorizontalList.6c2c75cc.js";import po from"./DashboardItemHorizontalList.0ca4ec8f.js";import uo from"./DashboardPackageHorizontalList.f6e5458c.js";import co from"./DashboardTopSellerHorizontalList.29823686.js";import _o from"./DashboardBlogHorizontalList.8f1a2161.js";import ho from"./DashboardMobileShowcaseCard.85b4c2b1.js";import Io from"./DashboardVendorCard.4c2f4316.js";import Co from"./DashboardVendorHorizontalList.fd3d3924.js";import fo from"./PsFrontendLayout.64b287f7.js";import{P as K}from"./PsValueStore.a232cbb1.js";import{u as go}from"./AppInfoStore.266a6525.js";import{u as wo}from"./AuthStore.f5c18b5c.js";import{u as So}from"./AddToCartStore.3ffc08d4.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{U as zo}from"./UserExistParameterHolder.00d832ec.js";import{U as Ho}from"./UserCreateParameterHolder.d34d17bc.js";import{P as V}from"./PsUtils.78b0d4de.js";import{_ as Lo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsLabel.3cf95094.js";import"./PsButton.bc5ed803.js";import"./PsRouteLink.8f7df026.js";import"./PsIcon.dc31c2db.js";import"./SearchForLargeScreen.e9f53a11.js";import"./PsLabelCaption.a33ce9c4.js";import"./PsInputWithLeftIcon.ae1f5479.js";import"./PsDropdown.f31a931d.js";import"./PsInputWithRightIcon.f020751b.js";import"./LocationParameterHolder.a5eab253.js";import"./PsApiService.98e573c3.js";import"./ItemLocation.d1b92a80.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";import"./ps_constants.0e2a11f9.js";import"./CategoryStore.8359ddd4.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./DefaultPhoto.cc755f93.js";import"./PsStore.f4ecabdb.js";import"./ProductStore.279e879d.js";import"./ProductParameterHolder.4354be0b.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./ProductRelation.0b376978.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./Vendor.d946ee87.js";import"./ApiStatus.5720ba0b.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./TouchCountStore.0d2b8ef3.js";import"./TouchCountParameterHolder.9ce47d98.js";import"./PsLazyImage.38e4a2ae.js";import"./PsLabelHeader5.23f9fdf8.js";import"./CategoryHorizontalItem.154a0537.js";import"./CategoryHorizontalSkeletorItem.9f5e68b1.js";import"./vue-skeletor.esm.de6e6d28.js";/* empty css                     */import"./PsContentContainer.26532414.js";import"./PsLabelHeader3.7f8e1b17.js";import"./PsLabelHeader6.d6849b88.js";import"./FeatureItemHorizontalSwiper.a8c20f50.js";import"./vue-splide.esm.9c0b6177.js";/* empty css                   */import"./ItemHorizontalItem.9fe729d0.js";import"./PsLabelTitle4.438736dc.js";import"./PsCard.ba2c0a4b.js";import"./PsAdSense.d6d1ce67.js";import"./format.min.502eec0f.js";import"./PsValueHolder.a0cf6b69.js";import"./FavouriteItemStore.46fa4312.js";import"./FollowItemParameterHolder.5bc5189c.js";import"./moment.9709ab41.js";import"./ItemHorizontalSwiper.e2f3085b.js";/* empty css                        */import"./ItemHorizontalSkeletorItem.d3fa3697.js";import"./PackageHorizontalPackage.97ffc38b.js";import"./PackageStore.da95ec7c.js";import"./Package.5254ef20.js";import"./PaymentInfo.5aa268a0.js";import"./UserListHorizontal.673e08cb.js";import"./RatingShow.a9e8b6e2.js";import"./UserListStore.2cdb4d6a.js";import"./UserStore.ecd89ebd.js";import"./UserListParameterHolder.d110b747.js";import"./UserFollowHolder.8b598f9e.js";import"./BlogHorizontalItem.e2dd8326.js";import"./BlogStore.26d7a1d1.js";import"./VendorSearchStore.72491da3.js";import"./VendorHorizontalSwiper.d1164b93.js";import"./VendorHorizontalVendor.8a92a791.js";import"./FooterView.1e68f849.js";import"./FooterLinkSection.714178c6.js";import"./PsLink.555685fa.js";import"./CustomFieldStore.b038b00e.js";import"./PsNavTabBar.634541ec.js";import"./PsDropdownSelect.8d0bad23.js";import"./PsIconToggle.5f73bff4.js";import"./ItemLocationTownshipStore.d4fe0c18.js";import"./PsNavBar.0669b7b7.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.181142c1.js";import"./PsLine.4597488d.js";import"./PsNotificationBox.8f065d5d.js";import"./NotificationStore.656ac75f.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";const yo=Q(()=>Y(()=>import("./PsAccountDialog.cd8a0549.js"),["assets/PsAccountDialog.cd8a0549.js","assets/PsModal.20834757.js","assets/PsModal.d437d3a8.css","assets/vue-neat-modal.d03c5dee.js","assets/vue-neat-modal.29af7d11.css","assets/app.0e502cc5.js","assets/app.aef5a90c.css","assets/PsLine.4597488d.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/PsLabel.3cf95094.js","assets/PsButton.bc5ed803.js","assets/PsCard.42327b0b.js","assets/PsInput.6fad3d25.js","assets/PsInputWithRightIcon.c0b01b6c.js","assets/PsIcon.8dbf90d4.js","assets/PsIcon.2bf4d362.css","assets/Icons.c01eddd9.js","assets/PsCheckboxValue.d227357b.js","assets/PsLabel.6d5b1b0c.js","assets/AuthStore.f5c18b5c.js","assets/index.esm.159b9749.js","assets/auth.esm.925cebae.js","assets/PsApiService.98e573c3.js","assets/ApiStatus.5720ba0b.js","assets/PsObject.a17ef38f.js","assets/User.0c3ba1a8.js","assets/RatingDetail.291ad5d1.js","assets/ProductRelation.0b376978.js","assets/UserExistParameterHolder.00d832ec.js","assets/PsLabelCaption.3e68d19d.js"])),vo={name:"DashboardView",components:{Head:$,ItemHorizontalList:po,FeaturedItemHorizontalList:lo,CategoryHorizontalList:so,HowItWorksCard:mo,SearchAndPopularCategoryListCard:no,PackageHorizontalList:uo,TopSellerHorizontalList:co,BlogHorizontalList:_o,MobileShowcaseCard:ho,PsAccountDialog:yo,DashboardVendorCard:Io,DashboardVendorHorizontalList:Co},props:{errors:Object,mobileSetting:Object,project:Object,dashboardScreenInfos:Object,searchAndPopularCategoryComponentIds:Array,categoryHorizontalListComponentIds:Array,howItsWorkComponentIds:Array,vendorHorizontalListComponentIds:Array,featureItemHorizontalListComponentIds:Array,recentItemHorizontalListComponentIds:Array,popularItemHorizontalListComponentIds:Array,vendorCardComponentIds:Array,discountItemHorizontalListComponentIds:Array,packageHorizontalListComponentIds:Array,topSellerHorizontalListComponentIds:Array,blogHorizontalListComponentIds:Array,mobileShowCaseComponentIds:Array},layout:fo,setup(o){const D=K(),d=e(),r=e(!1),c=wo(),M=So(),_=new zo,p=new Ho;let h=e(),I=e(),H=e(1),u=e(1),L=e(1),y=e(1),v=e(1),k=e(1),P=e(1),A=e(1),C=e(1),f=e(1),g=e(1),w=e(1),S=e(1);const U=go(),m=D.getLoginUserId(),E=new bo;async function b(t,z){d.value.openModal(B("dashboard_modal_user_info"),B("item_detail__confirm_to_mark_as_sold"),B("core__fe_update_user"),B("item_detail__cancel"),t,z,async()=>{p.username=d.value.form.username,p.loginUserId=m,p.loginMethod="checkFromDashboard",z=="false"&&(p.password=d.value.form.password),h.value="",I.value="";const l=await c.createUserwithUsername(p);l.data.status=="error"&&(h.value=c.isEmpty(l.data.message.username)?"":l.data.message.username[0],I.value=c.isEmpty(l.data.message.password)?"":l.data.message.password[0]),l.data.status=="success"&&d.value.closeModal()},()=>{V.log("Cancel")})}return oo(async()=>{if(E.userId=m,M.getAllItemFromCart(m),m!=="nologinuser"){_.id=m,_.loginMethod="checkFromDashboard";const t=await c.existUser(_);(t.data.message.user.username==""||t.data.message.user.hasPassword=="false")&&(r.value=!0,await V.waitingComponent(d),await b(t.data.message.user.username,t.data.message.user.hasPassword))}}),to(()=>{V.log("onBeforeUnmount")}),ro(()=>{!eo.isEmpty(o.dashboardScreenInfos)&&o.dashboardScreenInfos!==void 0&&o.dashboardScreenInfos.components.length>0&&o.dashboardScreenInfos.components.forEach(t=>{o.searchAndPopularCategoryComponentIds!==void 0&&o.searchAndPopularCategoryComponentIds.includes(t.id)&&(H.value=parseInt(t.attributes.is_show)),o.categoryHorizontalListComponentIds!==void 0&&o.categoryHorizontalListComponentIds.includes(t.id)&&(u.value=parseInt(t.attributes.is_show)),o.howItsWorkComponentIds!==void 0&&o.howItsWorkComponentIds.includes(t.id)&&(L.value=parseInt(t.attributes.is_show)),o.vendorHorizontalListComponentIds!==void 0&&o.vendorHorizontalListComponentIds.includes(t.id)&&(y.value=parseInt(t.attributes.is_show)),o.featureItemHorizontalListComponentIds!==void 0&&o.featureItemHorizontalListComponentIds.includes(t.id)&&(v.value=parseInt(t.attributes.is_show)),o.recentItemHorizontalListComponentIds!==void 0&&o.recentItemHorizontalListComponentIds.includes(t.id)&&(k.value=parseInt(t.attributes.is_show)),o.popularItemHorizontalListComponentIds!==void 0&&o.popularItemHorizontalListComponentIds.includes(t.id)&&(P.value=parseInt(t.attributes.is_show)),o.vendorCardComponentIds!==void 0&&o.vendorCardComponentIds.includes(t.id)&&(A.value=parseInt(t.attributes.is_show)),o.discountItemHorizontalListComponentIds!==void 0&&o.discountItemHorizontalListComponentIds.includes(t.id)&&(C.value=parseInt(t.attributes.is_show)),o.packageHorizontalListComponentIds!==void 0&&o.packageHorizontalListComponentIds.includes(t.id)&&(f.value=parseInt(t.attributes.is_show)),o.topSellerHorizontalListComponentIds!==void 0&&o.topSellerHorizontalListComponentIds.includes(t.id)&&(g.value=parseInt(t.attributes.is_show)),o.blogHorizontalListComponentIds!==void 0&&o.blogHorizontalListComponentIds.includes(t.id)&&(w.value=parseInt(t.attributes.is_show)),o.mobileShowCaseComponentIds!==void 0&&o.mobileShowCaseComponentIds.includes(t.id)&&(S.value=parseInt(t.attributes.is_show))})}),io(()=>{V.log("unmounting success")}),{appInfoStore:U,PsValueStore:K,AddToCartStore:M,ps_account_dialog:d,checkUserAccount:b,loginUserId:m,usernameError:h,passwordError:I,showAccountModel:r,isShowSearchAndPopularCategoryComponent:H,isShowCategoryHorizontalListComponent:u,isShowHowItsWorkComponent:L,isShowVendorHorizontalListComponent:y,isShowFeatureItemHorizontalListComponent:v,isShowRecentItemHorizontalListComponent:k,isShowPopularItemHorizontalListComponent:P,isShowVendorCardComponent:A,isShowDiscountItemHorizontalListComponent:C,isShowPackageHorizontalListComponent:f,isShowTopSellerHorizontalListComponent:g,isShowBlogHorizontalListComponent:w,isShowMobileShowCaseComponent:S}}},ko={class:""},Po={key:1,class:"h-28"},Ao={class:"xl:w-feLarge lg:w-large md:w-full px-4 md:px-6 lg:px-0 mx-auto"};function Uo(o,D,d,r,c,M){var C,f,g,w,S,U,m,E,b,t,z,l,j,O,F,T,W,x,N,R,J,X,Z,q;const _=s("search-and-popular-category-list-card"),p=s("category-horizontal-list"),h=s("how-it-works-card"),I=s("dashboard-vendor-horizontal-list"),H=s("featured-item-horizontal-list"),u=s("item-horizontal-list"),L=s("dashboard-vendor-card"),y=s("package-horizontal-list"),v=s("top-seller-horizontal-list"),k=s("blog-horizontal-list"),P=s("mobile-showcase-card"),A=s("ps-account-dialog");return i(),G("div",ko,[r.isShowSearchAndPopularCategoryComponent?(i(),n(_,{key:0,bannerImgPath:(g=(f=(C=r.appInfoStore.appInfo.data)==null?void 0:C.frontendConfigSetting)==null?void 0:f.frontendBanner)==null?void 0:g.imgPath,showSubCat:(w=r.appInfoStore)==null?void 0:w.isShowSubCategory(),limit:(U=(S=o.$props.mobileSetting)==null?void 0:S.category_loading_limit)!=null?U:6},null,8,["bannerImgPath","showSubCat","limit"])):a("",!0),r.isShowSearchAndPopularCategoryComponent?a("",!0):(i(),G("div",Po)),r.isShowCategoryHorizontalListComponent?(i(),n(p,{key:2,isShow:r.isShowCategoryHorizontalListComponent,showSubCat:(m=r.appInfoStore)==null?void 0:m.isShowSubCategory(),limit:(b=(E=o.$props.mobileSetting)==null?void 0:E.category_loading_limit)!=null?b:6},null,8,["isShow","showSubCat","limit"])):a("",!0),((t=o.$page.props.project)==null?void 0:t.base_project_id)!==28&&r.isShowHowItsWorkComponent?(i(),n(h,{key:3})):a("",!0),((z=r.appInfoStore)==null?void 0:z.isVendorSettingOn())&&r.isShowVendorHorizontalListComponent?(i(),n(I,{key:4})):a("",!0),r.isShowFeatureItemHorizontalListComponent?(i(),n(H,{key:5,limit:(j=(l=o.$props.mobileSetting)==null?void 0:l.featured_item_loading_limit)!=null?j:12},null,8,["limit"])):a("",!0),ao("div",Ao,[r.isShowRecentItemHorizontalListComponent?(i(),n(u,{key:0,item_list_name:"dashboard_recent",limit:(F=(O=o.$page.props.mobileSetting)==null?void 0:O.recent_item_loading_limit)!=null?F:12},null,8,["limit"])):a("",!0),r.isShowPopularItemHorizontalListComponent?(i(),n(u,{key:1,item_list_name:"dashboard_popular",limit:(W=(T=o.$page.props.mobileSetting)==null?void 0:T.popular_item_loading_limit)!=null?W:12},null,8,["limit"])):a("",!0),((x=r.appInfoStore)==null?void 0:x.isVendorSettingOn())&&r.isShowVendorCardComponent?(i(),n(L,{key:2})):a("",!0),r.isShowDiscountItemHorizontalListComponent?(i(),n(u,{key:3,item_list_name:"dashboard_discount",limit:(R=(N=o.$page.props.mobileSetting)==null?void 0:N.discount_item_loading_limit)!=null?R:12},null,8,["limit"])):a("",!0),((J=r.appInfoStore)==null?void 0:J.isPaidAppOn())&&r.isShowPackageHorizontalListComponent?(i(),n(y,{key:4})):a("",!0),r.isShowTopSellerHorizontalListComponent?(i(),n(v,{key:5})):a("",!0),r.isShowBlogHorizontalListComponent?(i(),n(k,{key:6})):a("",!0)]),r.isShowMobileShowCaseComponent?(i(),n(P,{key:6,appBrandingImagePath:(q=(Z=(X=r.appInfoStore.appInfo.data)==null?void 0:X.frontendConfigSetting)==null?void 0:Z.appBrandingImage)==null?void 0:q.imgPath},null,8,["appBrandingImagePath"])):a("",!0),r.showAccountModel?(i(),n(A,{key:7,ref:"ps_account_dialog",loginUserId:r.loginUserId,usernameError:r.usernameError,passwordError:r.passwordError},null,8,["loginUserId","usernameError","passwordError"])):a("",!0)])}var Dr=Lo(vo,[["render",Uo]]);export{Dr as default};
