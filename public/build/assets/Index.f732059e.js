import{i,r,o as m,f as y,w as l,a as x,b as t,q as g,t as _,c as O,g as v,h as z,d as A,p as I,Z as V,I as E,B as b,O as M,F as R,H as D}from"./app.0e502cc5.js";import{P as U}from"./PsLayout.7915dd73.js";import{P as N}from"./PsLabel.6d5b1b0c.js";import{P as T}from"./PsButton.ed5c0dad.js";import{P as G}from"./PsTable2.4916fb62.js";import{P as q}from"./PsAlert.24717dd2.js";import{P as J}from"./PsBreadcrumb2.ad6b6d6d.js";import{d as Y}from"./PsDangerDialog.195b6d73.js";import{P as W}from"./PsToggle.1bec2c80.js";import{P as B}from"./PsIcon.8dbf90d4.js";import{P as Q}from"./PsBannerIcon.82d105ba.js";import{D as X}from"./PsTableSearch.46f5341d.js";import{P as Z}from"./PsIconButton.acc39cbd.js";import{P as K}from"./PsModal.0f9f6579.js";import{P as ee}from"./PsLabelHeader4.a6c530e5.js";import{P as oe}from"./PsLink1.88c7c7c9.js";import{P as te}from"./PsDraggable.2eac7eeb.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{P as le}from"./PsCsvModal.f6d6857d.js";import"./PsDropdown.a0b3bb4c.js";import"./PsDropdownSelect.063a4178.js";import"./PsWarningDialog.db1ec62c.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.15e6d48b.js";import"./SidebarSubTab.31b29583.js";import"./PsErrorDialog.3227ce3c.js";import"./PsInputWithRightIcon.c0b01b6c.js";import"./PsSuccessDialog.9e44e7fb.js";import"./PsLoading.0f9a761a.js";import"./PsInput.6fad3d25.js";import"./PsLabelCaption.3e68d19d.js";import"./PsLoadingCircleDialog.65ae0069.js";import"./moment.9709ab41.js";import"./PsIcon1.3db40a94.js";import"./Icons.c01eddd9.js";import"./toggle.284f64a6.js";import"./vue-neat-modal.d03c5dee.js";const ae={name:"PsJsonModal",components:{PsLabelHeader4:ee,PsLabel:N,PsLink1:oe,PsButton:T,PsModal:K,PsIcon:B,PsDraggable:te},props:{url:{type:String,default:"https://bit.ly/3G4MvHj"}},setup(e){const o=i(),P=i();let s,$,k;function h(){o.value.toggle(!1)}function C(f,F){o.value.toggle(!0),s=f,$=F}function w(){P.value.click()}let d=i("");const u=f=>{d.value=f.dataTransfer.files[0]};let c=i();function p(f){k=f.target.files[0],c.value=k.name}function j(f){s(k),o.value.toggle(!1)}async function S(){o.value.toggle(!1)}return{psmodal:o,openModal:C,clicked:S,cancel:h,okClicked:s,cancelClicked:$,defaultClick:w,image:P,dropzoneFile:d,drop:u,onCsvSelected:p,actionClicked:j,fileName:c}}},ne={class:"hidden sm:flex justify-end"},re={class:"mx-2.5"},se={key:2,class:"file-info"};function ie(e,o,P,s,$,k){const h=r("ps-icon"),C=r("ps-label-header-4"),w=r("ps-label"),d=r("ps-button"),u=r("ps-draggable"),c=r("ps-modal");return m(),y(c,{ref:"psmodal",line:"hidden",maxWidth:"480px",bodyHeight:"574px",isClickOut:!1,theme:"px-4 pt-4 pb-8 shadow-xl rounded-lg bg-white dark:bg-secondaryDark-black"},{title:l(()=>[x("div",ne,[t(h,{onClick:o[0]||(o[0]=p=>s.cancel()),name:"cross",theme:"text-secondary-400"})]),t(h,{class:"mx-auto",name:"cloud",w:"79",h:"75",theme:"text-secondary-300 dark:text-secondary-600"}),t(C,{class:"text-center font-normal text-2xl mt-6 mb-4"},{default:l(()=>[g(_(e.$t("ps_json_modal__title")),1)]),_:1})]),body:l(()=>[x("div",re,[t(u,{class:"mt-4 px-2.5 py-8",onDrop:z(s.drop,["prevent"])},{default:l(()=>[s.fileName?(m(),y(w,{key:0,textColor:"mb-2"},{default:l(()=>[g("1 "+_(e.$t("image_upload__file_is_choosen")),1)]),_:1})):(m(),y(w,{key:1,textColor:"mb-2"},{default:l(()=>[g(_(e.$t("ps_image_upload__no_file_is_choosen")),1)]),_:1})),x("input",{type:"file",accept:".json",ref:"image",style:{display:"none"},onChange:o[1]||(o[1]=p=>s.onCsvSelected(p))},null,544),t(d,{onClick:o[2]||(o[2]=p=>s.defaultClick()),class:"w-26 h-7 py-1 px-2 mt-2"},{default:l(()=>[g(_(e.$t("ps_csv_modal__choose_files")),1)]),_:1}),s.fileName?(m(),O("span",se,_(e.$t("ps_csv_modal__file_name"))+": "+_(s.fileName),1)):v("",!0)]),_:1},8,["onDrop"])])]),footer:l(()=>[t(d,{class:"mx-auto mt-2",onClick:o[3]||(o[3]=p=>s.actionClicked())},{default:l(()=>[g(_(e.$t("ps_csv_modal__confirm_button")),1)]),_:1})]),_:1},512)}var de=L(ae,[["render",ie]]);const me=A({name:"Index",components:{Link:I,Head:V,PsLabel:N,PsButton:T,PsTable2:G,PsAlert:q,PsBreadcrumb2:J,PsDangerDialog:Y,PsToggle:W,PsIcon:B,PsBannerIcon:Q,Dropdown:X,PsIconButton:Z,PsJsonModal:de,PsCsvModal:le},layout:U,props:{status:Object,can:Object,mobile_language:Object,mobile_language_strings:Object,hideShowFieldForFilterArr:Object,showCoreAndCustomFieldArr:Object,sort_field:{type:String,default:""},sort_order:{type:String,default:"desc"},search:String},setup(e){let o=i(!1),P=e.search?i(e.search):i(""),s=e.sort_field?i(e.sort_field):i(""),$=e.sort_order?i(e.sort_order):i("desc");const k=i(),h=i(),C=i(),w=i(),d=i();E(()=>e.status,()=>{o.value=!0,setTimeout(()=>{o.value=!1},3e3)});function u(n){k.value.openModal(b("core__delete"),b("core__comfirm_to_delete_language_string"),b("core__be_btn_confirm"),b("core__be_btn_cancel"),()=>{this.$inertia.delete(route("mobile_language_string.destroy",[e.mobile_language,n]),{onSuccess:()=>{o.value=!0,setTimeout(()=>{o.value=!1},3e3)},onError:()=>{o.value=!0,setTimeout(()=>{o.value=!1},3e3)}})},()=>{})}function c(n){s.value=n.field,$.value=n.sort_order,S()}function p(n){P.value=n,S(1)}function j(n){S(1,n)}function S(n=null,a=null){M.get(route("mobile_language_string.index",e.mobile_language.id),{mobile_language:e.mobile_language.id,sort_field:s.value,sort_order:$.value,page:n!=null?n:e.mobile_language_strings.meta.current_page,row:a!=null?a:e.mobile_language_strings.meta.per_page,search:P.value},{preserveScroll:!0,preserveState:!0})}function f(){h.value.openModal(n=>{let a=D({csvFile:n,_method:"put"});M.post(route("mobile_language_string.import.json",e.mobile_language.id),a)})}function F(){C.value.openModal(n=>{let a=D({csvFile:n,_method:"put"});M.post(route("mobile_language_string.import.csv",e.mobile_language.id),a,{onSuccess:()=>{window.location.reload()}})})}return{ps_json_modal:h,jsonUploadClicked:f,csvUploadClicked:F,handleRow:j,handleSearchingSorting:S,handleSearching:p,handleSorting:c,visible:o,columns:d,ps_danger_dialog:k,confirmDeleteClicked:u,colFilterOptions:w,ps_csv_modal:C}},computed:{breadcrumb(){return[{label:b("core__be_dashboard_label"),url:route("admin.index")},{label:b("mobile_language_module"),url:route("mobile_language.index")},{label:b("mobile_language_string_module"),color:"text-primary-500"}]}},methods:{handleCreate(){this.$inertia.get(route("mobile_language_string.create",this.mobile_language.id))},handleEdit(e){this.$inertia.get(route("mobile_language_string.edit",[this.mobile_language,e]))},handlePublish(e,o){o&&this.$inertia.put(route("mobile_language_string.statusChange",e))},FilterOptionshandle(e){M.put(route("mobile_language_string.screenDisplayUiSetting.store"),{value:e,sort_field:this.sort_field,sort_order:this.sort_order,row:this.mobile_language_strings.per_page,search:this.search.value,current_page:this.mobile_language_strings.current_page},{preserveScroll:!0,preserveState:!0})}},created(){this.columns=this.showCoreAndCustomFieldArr.map(e=>({action:e.action,field:e.field,label:b(e.label),sort:e.sort,type:e.type})),this.colFilterOptions=this.hideShowFieldForFilterArr.map(e=>({hidden:e.hidden,id:e.id,key:b(e.key),key_id:e.key_id,label:b(e.label),module_name:e.module_name}))}}),ue={class:"flex items-end justify-end"},ce=["href"],_e=g("Export Json"),ge=["href"],pe=g("Export CSV"),fe={key:0,class:"flex flex-row"},be={key:0,class:"flex flex-row"};function he(e,o,P,s,$,k){const h=r("Head"),C=r("ps-breadcrumb-2"),w=r("ps-banner-icon"),d=r("ps-icon"),u=r("ps-button"),c=r("ps-label"),p=r("ps-json-modal"),j=r("ps-csv-modal"),S=r("ps-toggle"),f=r("ps-danger-dialog"),F=r("ps-table2"),n=r("ps-layout");return m(),O(R,null,[t(h,{title:e.$t("mobile_language_module")},null,8,["title"]),t(n,null,{default:l(()=>[t(C,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),e.visible?(m(),y(w,{key:0,visible:e.visible,theme:e.status.flag=="danger"?"bg-red-500":e.status.flag=="warning"?"bg-yellow-500":"bg-green-500",iconName:e.status.flag=="danger"?"close-circle":e.status.flag=="warning"?"alert-triangle":"rightalert",class:"text-white mb-5 sm:mb-6 lg:mb-8",iconColor:"white"},{default:l(()=>[g(_(e.status.msg.msg),1)]),_:1},8,["visible","theme","iconName"])):v("",!0),x("div",ue,[e.can.createMobileLanguageString?(m(),y(u,{key:0,onClick:o[0]||(o[0]=a=>e.handleCreate()),rounded:"rounded-lg",type:"button",class:"flex flex-wrap items-center"},{default:l(()=>[t(d,{name:"plus",class:"me-2 font-semibold"}),g(_(e.$t("core__be_add_mobile_language_string")),1)]),_:1})):v("",!0)]),t(F,{row:e.row,search:e.search,object:this.mobile_language_strings,colFilterOptions:e.colFilterOptions,columns:e.columns,sort_field:e.sort_field,sort_order:e.sort_order,onFilterOptionshandle:e.FilterOptionshandle,onHandleSort:e.handleSorting,onHandleSearch:e.handleSearching,onHandleRow:e.handleRow,searchable:e.showFilter},{searchLeft:l(()=>[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",onClick:e.csvUploadClicked,class:"ms-3 flex flex-wrap items-center"},{default:l(()=>[t(d,{name:"plus",class:"me-2 font-semibold"}),t(c,{textColor:"text-white dark:text-secondary-800"},{default:l(()=>[g(_(e.$t("import_data")),1)]),_:1})]),_:1},8,["onClick"])):v("",!0),x("a",{href:e.route("mobile_language_string.export.json",e.mobile_language.id)},[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",colors:"text-primary-500",border:"border border-primary-500",class:"ms-4 flex flex-wrap items-center"},{default:l(()=>[t(d,{name:"fileUpload",class:"me-2 font-semibold"}),t(c,{textColor:"text-primary-500"},{default:l(()=>[_e]),_:1})]),_:1})):v("",!0)],8,ce),x("a",{href:e.route("mobile_language_string.export.csv",e.mobile_language.id)},[e.can.createMobileLanguageString?(m(),y(u,{key:0,rounded:"rounded",colors:"text-primary-500",border:"border border-primary-500",class:"ms-4 flex flex-wrap items-center"},{default:l(()=>[t(d,{name:"fileUpload",class:"me-2 font-semibold"}),t(c,{textColor:"text-primary-500"},{default:l(()=>[pe]),_:1})]),_:1})):v("",!0)],8,ge),t(p,{ref:"ps_json_modal",url:"https://drive.google.com/file/d/1wu_YeXwQzcrnYNwBhlM_qFMalaWMmvTp/view?usp=sharing"},null,512),t(j,{ref:"ps_csv_modal",url:"https://drive.google.com/file/d/1zqO4n2zlroGITAblYyGGCdNfoepxiz62/view?usp=sharing"},null,512)]),tableRow:l(a=>[a.field=="mobile_language_id@@name"?(m(),O("div",fe,[t(c,null,{default:l(()=>[g(_(e.mobile_language.name),1)]),_:1})])):v("",!0),a.field=="status"?(m(),y(S,{key:1,disabled:!a.row.authorization.update,selectedValue:a.row.status==1,onClick:H=>e.handlePublish(a.row.id,a.row.authorization.update),toggleOnTheme:"bg-primary-500 border-primary-500 "},null,8,["disabled","selectedValue","onClick"])):v("",!0)]),tableActionRow:l(a=>[a.field=="action"?(m(),O("div",be,[t(u,{disabled:!a.row.authorization.update,onClick:H=>e.handleEdit(a.row.id),class:"me-4",colors:"bg-green-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-green-100",focus:"focus:outline-none focus:ring focus:ring-green-200"},{default:l(()=>[t(d,{name:"editPencil",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),t(u,{disabled:!a.row.authorization.delete,onClick:H=>e.confirmDeleteClicked(a.row.id),colors:"bg-red-400 text-white",padding:"p-1.5",hover:"hover:outline-none hover:ring hover:ring-red-100",focus:"focus:outline-none focus:ring focus:ring-red-200"},{default:l(()=>[t(d,{theme:"text-white dark:text-primary-900",name:"trash",w:"16",h:"16"})]),_:2},1032,["disabled","onClick"]),t(f,{ref:"ps_danger_dialog"},null,512)])):v("",!0)]),_:1},8,["row","search","object","colFilterOptions","columns","sort_field","sort_order","onFilterOptionshandle","onHandleSort","onHandleSearch","onHandleRow","searchable"])]),_:1})],64)}var lo=L(me,[["render",he]]);export{lo as default};
