import C from"./PsModal.20834757.js";import B from"./PsButton.bc5ed803.js";import{P as M}from"./PsValueStore.a232cbb1.js";import S from"./PsErrorDialog.092191b2.js";import{u as $}from"./VendorItemBoughtStore.bd685e2c.js";import{d as x,i as f,o as q,c as w,b as a,w as c,a as k,q as g,t as y,F as E,B as I,r as p}from"./app.0e502cc5.js";import{d as N}from"./dropin.4ee2cd7a.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";import"./vue-neat-modal.d03c5dee.js";import"./PsLine.4597488d.js";import"./PsLabelTitle.41617619.js";import"./PsLabel.3cf95094.js";import"./PsApiService.98e573c3.js";import"./ApiStatus.5720ba0b.js";import"./PsObject.a17ef38f.js";import"./PsSepetetedStore.9a31ac47.js";const T=x({name:"VendorPaypalModal",components:{PsModal:C,PsButton:B,PsErrorDialog:S},setup(){const o=f(),e=f(),m=M().getLoginUserId(),s=$();let i,t;function r(n){n=="yes"?i():t(),o.value.toggle(!1)}async function l(n,b,P){o.value.toggle(!0),i=n,t=b;const V=await s.getVendorPaypalToken(P,m),d=document.querySelector("#submit-button");N.create({authorization:V.data.message,container:"#dropin-container",paypal:{flow:"vault"}},function(z,u){d==null||d.addEventListener("click",function(){u.isPaymentMethodRequestable()&&setTimeout(function(){u.requestPaymentMethod(async function(h,_){if(console.log(_),h){e.value.openModal("",I("paypal_credit_card_modal__error_paid_ad"));return}s.paymentNonce=_.nonce,r("yes")})},200)})})}return{psmodal:o,ps_error_dialog:e,openModal:l,actionClicked:r}}}),F=k("div",{id:"dropin-container"},null,-1),L={class:"flex justify-center mx-auto"};function U(o,e,v,m,s,i){const t=p("ps-button"),r=p("ps-modal"),l=p("ps-error-dialog");return q(),w(E,null,[a(r,{ref:"psmodal",line:"hidden",isClickOut:!1},{body:c(()=>[F,k("div",L,[a(t,{id:"submit-button"},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__submit_payment")),1)]),_:1}),a(t,{theme:"btn-second",class:"text-center mx-4",onClick:e[0]||(e[0]=n=>o.actionClicked("no"))},{default:c(()=>[g(y(o.$t("paypal_credit_card_modal__close")),1)]),_:1})])]),_:1},512),a(l,{ref:"ps_error_dialog"},null,512)],64)}var no=D(T,[["render",U]]);export{no as default};
