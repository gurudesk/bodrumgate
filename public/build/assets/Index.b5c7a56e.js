import{d as H,Z as F,p as j,i as k,B as D,o as a,c as o,b as s,w as l,a as p,q as d,t as u,h as q,F as h,s as C,n as U,g as i,f as w,r as c}from"./app.0e502cc5.js";import{P as A}from"./PsLayout.7915dd73.js";import{P as O}from"./PsInput.6fad3d25.js";import{P as Y}from"./PsLabel.6d5b1b0c.js";import{P as Z}from"./PsButton.ed5c0dad.js";import{P as G}from"./PsLabelHeader4.a6c530e5.js";import"./PsLabelHeader5.f7cab69f.js";import{P as J}from"./PsIcon.8dbf90d4.js";import{P as K}from"./PsLoading.0f9a761a.js";import{P as Q}from"./PsBreadcrumb2.ad6b6d6d.js";import{P as R}from"./PsLabelCaption.3e68d19d.js";import{P as W}from"./PsLabelTitle3.7f097e1a.js";import{P as X}from"./PsDropdown.a0b3bb4c.js";import{P as x}from"./PsDropdownSelect.063a4178.js";import{P as ee}from"./PsCheckboxValue.d227357b.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsDangerDialog.195b6d73.js";import"./PsModal.0f9f6579.js";import"./vue-neat-modal.d03c5dee.js";import"./PsToggle.1bec2c80.js";import"./toggle.284f64a6.js";import"./PsWarningDialog.db1ec62c.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./SidebarMenuItem.15e6d48b.js";import"./SidebarSubTab.31b29583.js";import"./PsErrorDialog.3227ce3c.js";import"./PsInputWithRightIcon.c0b01b6c.js";import"./PsSuccessDialog.9e44e7fb.js";import"./PsBannerIcon.82d105ba.js";import"./PsIcon1.3db40a94.js";import"./Icons.c01eddd9.js";import"./PsLoadingCircleDialog.65ae0069.js";const ae=H({name:"Edit",components:{Head:F,PsInput:O,PsLabel:Y,PsButton:Z,PsLabelHeader4:G,PsIcon:J,PsLoading:K,PsBreadcrumb2:Q,Link:j,PsLabelCaption:R,PsLabelTitle3:W,PsDropdown:X,PsDropdownSelect:x,PsCheckboxValue:ee},layout:A,props:["errors","payments","availableCurrencies","defaultCurrencyId","paypalPaymentId","stripePaymentId","razorPaymentId","paystackPaymentId","flutterwavePaymentId","can"],setup(e){const b={}.VITE_PAYMENT_MODE,v=k(!1),P=k(!1),z=k(e.defaultCurrencyId),g="currency_symbol_setting",_=k(g),y=k(g);function m(r){r.id==e.paypalPaymentId?(y.value="paypal_setting",_.value=r.name):r.id==e.stripePaymentId?(y.value="stripe_setting",_.value=r.name):r.id==e.razorPaymentId?(y.value="razor_setting",_.value=r.name):r.id==e.paystackPaymentId?(y.value="paystack_setting",_.value=r.name):r.id==e.flutterwavePaymentId?(y.value="flutterwave_setting",_.value=r.name):(y.value=r,_.value=r)}function I(){this.$inertia.get(route("payment_setting.index"))}function S(r){this.$inertia.post(route("payment_setting.store",r),e.payments,{forceFormData:!0,onBefore:()=>{v.value=!0},onSuccess:()=>{v.value=!1,P.value=!0,setTimeout(()=>{P.value=!1},2e3)},onError:()=>{v.value=!1}})}return{handleCancel:I,title:_,changeSection:m,handleSubmit:S,loading:v,success:P,currency_id:z,currency_symbol_setting:g,titleLabel:y,paymentMode:b}},computed:{breadcrumb(){return[{label:D("core__be_dashboard_label"),url:route("admin.index")},{label:D("payment_setting_module"),color:"text-primary-500"}]}}}),se={class:"bg-background dark:bg-secondaryDark-black rounded-lg"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-4 mb-20"},re={key:0},le={class:"px-4 py-3"},ne={class:"rounded-md shadow-xs"},ie={class:"pt-2 z-30 w-70"},de=["onClick"],ue={key:0},ce={key:0,class:"px-4 py-3"},pe={key:1,class:"px-4 py-3"},me={key:2,class:"px-4 py-3"},_e={key:3,class:"px-4 py-3"},ye={key:4,class:"px-4 py-3"},be={class:"px-4 py-3"},ve={key:5,class:"px-4 py-3"},fe={key:6,class:"px-4 py-3"},ke={key:7,class:"px-4 py-3"},he={key:8,class:"px-4 py-3"},Pe={key:9,class:"px-4 py-3"},ge={class:"flex flex-row px-4 py-3 justify-end mb-2.5 mt-4"},$e={class:"flex flex-col pt-4"},Ce=["onClick"];function we(e,b,v,P,z,g){const _=c("Head"),y=c("ps-breadcrumb-2"),m=c("ps-label"),I=c("ps-dropdown-select"),S=c("ps-dropdown"),r=c("ps-label-header-5"),V=c("ps-input"),f=c("ps-checkbox-value"),L=c("ps-button"),E=c("ps-loading"),M=c("ps-icon"),N=c("ps-card"),T=c("ps-layout");return a(),o(h,null,[s(_,{title:e.$t("payment_setting_module")},null,8,["title"]),s(T,null,{default:l(()=>[s(y,{items:e.breadcrumb,class:"mb-5 sm:mb-6 lg:mb-8"},null,8,["items"]),s(N,{class:"w-full h-auto"},{default:l(()=>[p("div",se,[s(m,{class:"col-span-2 text-lg px-4 py-3.5 bg-primary-50 dark:bg-primary-900"},{default:l(()=>[d(u(e.$t(e.titleLabel)),1)]),_:1}),p("form",{onSubmit:b[2]||(b[2]=q(t=>e.handleSubmit(e.currency_id),["prevent"]))},[p("div",oe,[p("div",null,[e.title==e.currency_symbol_setting?(a(),o("div",re,[p("div",le,[s(m,{class:"text-base"},{default:l(()=>[d(u(e.$t("payment__pmt_currency")),1)]),_:1}),s(S,{align:"left",class:"lg:mt-2 mt-1 w-full"},{select:l(()=>[s(I,{placeholder:e.$t("payment__select_pmt_currency"),selectedValue:e.currency_id==""?"":e.availableCurrencies.filter(t=>t.id==e.currency_id)[0].name+" ("+e.availableCurrencies.filter(t=>t.id==e.currency_id)[0].currency_symbol+", "+e.availableCurrencies.filter(t=>t.id==e.currency_id)[0].currency_short_form+")"},null,8,["placeholder","selectedValue"])]),list:l(()=>[p("div",ne,[p("div",ie,[(a(!0),o(h,null,C(e.availableCurrencies,t=>(a(),o("div",{key:t.id,class:"flex py-4 px-2 hover:bg-primary-000 dark:hover:bg-primary-900 cursor-pointer items-center",onClick:n=>[e.currency_id=t.id]},[s(m,{class:U(["ms-2",t.id==e.currency_id?" font-bold":""])},{default:l(()=>[d(u(t.name+" ("+t.currency_symbol+", "+t.currency_short_form+" )"),1)]),_:2},1032,["class"])],8,de))),128))])])]),_:1})])])):i("",!0),(a(!0),o(h,null,C(e.payments,t=>(a(),o("div",{key:t.id},[e.title==t.name?(a(),o("div",ue,[t.id==e.paypalPaymentId?(a(),o("div",ce,[s(r,{class:"semibold"},{default:l(()=>[d(u(e.$t("core__be_option_1_paypal_payment")),1)]),_:1})])):i("",!0),t.id==e.stripePaymentId?(a(),o("div",pe,[s(r,{class:"semibold"},{default:l(()=>[d(u(e.$t("core__be_option_2_stripe_payment")),1)]),_:1})])):i("",!0),t.id==e.razorPaymentId?(a(),o("div",me,[s(r,{class:"semibold"},{default:l(()=>[d(u(e.$t("core__be_option_3_razor_payment")),1)]),_:1})])):i("",!0),t.id==e.paystackPaymentId?(a(),o("div",_e,[s(r,{class:"semibold"},{default:l(()=>[d(u(e.$t("core__be_option_4_paystack_payment")),1)]),_:1})])):i("",!0),t.id==e.flutterwavePaymentId?(a(),o("div",ye,[s(r,{class:"semibold"},{default:l(()=>[d(u(e.$t("core__be_option_5_flutterwave_payment")),1)]),_:1})])):i("",!0),(a(!0),o(h,null,C(t.payment_infos,n=>{var B;return a(),o("div",{key:n.id},[p("div",be,[s(m,{class:"text-base mb-1"},{default:l(()=>{var $;return[d(u(($=n.core_key)==null?void 0:$.name),1)]}),_:2},1024),s(V,{type:"text",disabled:e.paymentMode=="demo",value:n.value,"onUpdate:value":$=>n.value=$,placeholder:(B=n.core_key)==null?void 0:B.name},null,8,["disabled","value","onUpdate:value","placeholder"])])])}),128)),t.id==e.paypalPaymentId?(a(),o("div",ve,[s(f,{value:t.status,"onUpdate:value":n=>t.status=n,class:"font-normal",title:e.$t("core__be_paypal_enabled")},null,8,["value","onUpdate:value","title"])])):i("",!0),t.id==e.stripePaymentId?(a(),o("div",fe,[s(f,{value:t.status,"onUpdate:value":n=>t.status=n,class:"font-normal",title:e.$t("core__be_stripe_enabled")},null,8,["value","onUpdate:value","title"])])):i("",!0),t.id==e.razorPaymentId?(a(),o("div",ke,[s(f,{value:t.status,"onUpdate:value":n=>t.status=n,class:"font-normal",title:e.$t("core__be_razor_enabled")},null,8,["value","onUpdate:value","title"])])):i("",!0),t.id==e.paystackPaymentId?(a(),o("div",he,[s(f,{value:t.status,"onUpdate:value":n=>t.status=n,class:"font-normal",title:e.$t("core__be_paystack_enabled")},null,8,["value","onUpdate:value","title"])])):i("",!0),t.id==e.flutterwavePaymentId?(a(),o("div",Pe,[s(f,{value:t.status,"onUpdate:value":n=>t.status=n,class:"font-normal",title:e.$t("core__be_flutterwave_enabled")},null,8,["value","onUpdate:value","title"])])):i("",!0)])):i("",!0)]))),128)),p("div",ge,[s(L,{onClick:b[0]||(b[0]=t=>e.handleCancel()),textSize:"text-base",type:"reset",class:"me-4",colors:"text-primary-500",focus:"",hover:""},{default:l(()=>[d(u(e.$t("core__be_btn_cancel")),1)]),_:1}),s(L,{disabled:!e.can.updatePaymentSetting,class:"transition-all duration-300 min-w-3xs",padding:"px-6 py-1",rounded:"rounded",hover:"",focus:""},{default:l(()=>[e.loading?(a(),w(E,{key:0,theme:"border-2 border-t-2 border-text-8 border-t-primary-500",loadingSize:"h-5 w-5"})):i("",!0),e.success?(a(),w(M,{key:1,name:"check",class:"me-1.5 transition-all duration-300"})):i("",!0),e.success?(a(),w(m,{key:2,class:"transition-all duration-300",textColor:"text-white dark:text-secondaryDark-black"},{default:l(()=>[d(u(e.$t("core__be_btn_save")),1)]),_:1})):i("",!0),!e.loading&&!e.success?(a(),w(m,{key:3,textColor:"text-white dark:text-secondaryDark-black"},{default:l(()=>[d(u(e.$t("core__be_btn_save")),1)]),_:1})):i("",!0)]),_:1},8,["disabled"])])]),p("div",$e,[p("div",{onClick:b[1]||(b[1]=t=>e.changeSection(e.currency_symbol_setting)),class:U([e.title==e.currency_symbol_setting?"border-l border-s-primary-500":"border-l border-s-secondary-300","px-2 py-3 cursor-pointer"])},[s(m,{textColor:e.title==e.currency_symbol_setting?"text-primary-500 dark:text-primary-500":"text-secondary-800 dark:text-white"},{default:l(()=>[d(u(e.$t("payment__currency_symbol")),1)]),_:1},8,["textColor"])],2),(a(!0),o(h,null,C(e.payments,t=>(a(),o("div",{key:t.id},[p("div",{onClick:n=>e.changeSection(t),class:U([e.title==t.name?"border-l border-s-primary-500":"border-l border-s-secondary-300","px-2 py-3 cursor-pointer"])},[s(m,{textColor:e.title==t.name?"text-primary-500 dark:text-primary-500":"text-secondary-800 dark:text-white"},{default:l(()=>[d(u(t.name),1)]),_:2},1032,["textColor"])],10,Ce)]))),128))])])],32)])]),_:1})]),_:1})],64)}var rt=te(ae,[["render",we]]);export{rt as default};
