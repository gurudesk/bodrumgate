import{i as w,j as z,k as K,B as p,o as n,f as a,w as U,a as i,b as o,g as m,c as Q,T as W,r}from"./app.0e502cc5.js";import J from"./PsContentContainer.26532414.js";import X from"./PsLoadingDialog.e4058754.js";import Y from"./PsAdSense.d6d1ce67.js";import Z from"./PsFrontendLayout.64b287f7.js";import $ from"./PsBreadcrumb2.00bc7c75.js";import oo from"./ItemFilterCategoryDropdown.3e3d861d.js";import to from"./ItemFilterSubCategoryDropdown.d3535edd.js";import eo from"./ItemFilterDiscountSection.c4930af7.js";import ro from"./ItemFilterStockSection.62d0e2e3.js";import io from"./ItemFilterPriceRangeInput.805ff441.js";import no from"./ItemFilterCustomFieldSection.7dbad37c.js";import ao from"./ItemFilterCityDropdown.4a2f1673.js";import mo from"./ItemFilterTownshipDropdown.13cf1cbb.js";import so from"./ItemFilterPickLocationButton.29167f34.js";import lo from"./ItemFilterItemVerticalList.bc1ed05f.js";import po from"./ItemFilterSortAndTypeSection.2440dde6.js";import co from"./ItemFilterTitle.97895318.js";import _o from"./ItemFilterKeywordInput.349b4fbd.js";import uo from"./ItemFilterMobileFilterButton.9f1b96b9.js";import fo from"./ItemFilterClearButton.6c94e710.js";import So from"./PsLabel.3cf95094.js";import{u as go}from"./ProductStore.279e879d.js";import{P as ho}from"./PsValueStore.a232cbb1.js";import{u as yo}from"./AppInfoStore.266a6525.js";import{P as y}from"./ps_constants.0e2a11f9.js";import{P as wo}from"./ProductParameterHolder.4354be0b.js";import{A as bo}from"./AppInfoParameterHolder.e24d894d.js";import{P as Po}from"./PsUtils.78b0d4de.js";import{_ as vo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsModal.20834757.js";import"./vue-neat-modal.d03c5dee.js";import"./PsLine.4597488d.js";import"./PsLabelTitle.41617619.js";import"./PsApiService.98e573c3.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./FooterView.1e68f849.js";import"./FooterLinkSection.714178c6.js";import"./PsLink.555685fa.js";import"./PsRouteLink.8f7df026.js";import"./PsLabelCaption.a33ce9c4.js";import"./PsIcon.dc31c2db.js";import"./CustomFieldStore.b038b00e.js";import"./PsStore.f4ecabdb.js";import"./PsSepetetedStore.9a31ac47.js";import"./PsNavTabBar.634541ec.js";import"./PsDropdown.f31a931d.js";import"./PsDropdownSelect.8d0bad23.js";import"./PsIconToggle.5f73bff4.js";import"./PsInputWithLeftIcon.ae1f5479.js";import"./ItemLocationTownshipStore.d4fe0c18.js";import"./ItemLocation.d1b92a80.js";import"./LocationParameterHolder.a5eab253.js";import"./PsNavBar.0669b7b7.js";import"./UserStore.ecd89ebd.js";import"./User.0c3ba1a8.js";import"./RatingDetail.291ad5d1.js";import"./ProductRelation.0b376978.js";import"./UserListParameterHolder.d110b747.js";import"./ApiStatus.5720ba0b.js";import"./index.esm.159b9749.js";import"./auth.esm.925cebae.js";import"./UserUnReadMessageParameterHolder.181142c1.js";import"./AddToCartStore.3ffc08d4.js";import"./PsButton.bc5ed803.js";import"./PsNotificationBox.8f065d5d.js";import"./Phone.45f97258.js";import"./Product.29c94914.js";import"./Category.7c65464b.js";import"./DefaultIcon.e76b39a5.js";import"./SubCategory.1b4176e0.js";import"./ItemCurrency.91c8ce91.js";import"./Vendor.d946ee87.js";import"./UserDeleteItemParameterHolder.5d816aba.js";import"./NotificationStore.656ac75f.js";import"./NotiUnRegisterHolder.eefb692e.js";import"https://unpkg.com/delayed-scroll-restoration-polyfill@0.1.1/index.js";import"./CategoryStore.8359ddd4.js";import"./SubCategoryStore.60daf9d9.js";import"./PsIcon.8dbf90d4.js";import"./Icons.c01eddd9.js";import"./PsRadio.3dac062e.js";import"./PsInput.e5044849.js";import"./PsErrorDialog.092191b2.js";import"./CustomizeUiStore.68ca0820.js";import"./PsSecondaryButton.d0a9ccd7.js";import"./MapWithMakersModal.12a33c4f.js";import"./MapWithMakers.c88b199f.js";import"./Control.Geocoder.d9da73e3.js";import"./GoogleMapWithMakers.6d9ddf2f.js";import"./index.16b2deb4.js";import"./PsInputWithRightIcon.f020751b.js";const Io={name:"ItemListView",components:{PsBreadcrumb2:$,PsContentContainer:J,PsLoadingDialog:X,PsAdSense:Y,CategoryDropDown:oo,SubCategoryDropDown:to,DiscountSection:eo,StockSection:ro,PriceRangeInput:io,CustomFieldSection:no,CityDropdown:ao,TownshipDropdown:mo,PickLocationButton:so,ItemVerticalList:lo,SortAndTypeSection:po,ItemFilterTitle:co,KeywordInput:_o,MobileFilterButton:uo,ClearButton:fo,PsLabel:So},layout:Z,props:["query"],setup(b){const t=go("list"),s=yo(),e=ho(),c=w(),l=w(!0),_=new bo;t.paramHolder.parseParamsAndQuery(b.query),z(async()=>{_.userId=e.getLoginUserId(),await s.loadAppInfo(_),console.log(s==null?void 0:s.isSoldOutFeatureSettingOn()),setTimeout(async()=>{window.popStateDetected?(l.value=!1,window.popStateDetected=!1):(l.value==!0&&t.itemList.data==null&&c.value.closeModal(),(t.paramHolder.orderBy!=y.FILTERING_TRENDING||t.paramHolder.orderType!=y.FILTERING__DESC)&&(t.paramHolder.sortingName=="Recent",t.paramHolder.orderBy==y.FILTERING__ADDED_DATE,t.paramHolder.orderType==y.FILTERING__DESC),await u())},1e3)}),K(()=>{t.paramHolder=new wo().getRecentParameterHolder()});async function u(){c.value.closeModal(),(t.paramHolder.mile=="0"||t.paramHolder.mile.toString()=="")&&(t.paramHolder.lat="",t.paramHolder.lng=""),Po.addParamToCurrentUrl(t.getURLforListByParam(t.paramHolder)),await t.resetProductList(e.getLoginUserId(),t.paramHolder),c.value.closeModal(),l.value=!1,console.log(t.itemList.data.length)}const d=w("downArrow");function f(g,h){d.value="upArrow"}function S(g,h){d.value="downArrow"}return{ps_loading_dialog:c,itemProvider:t,appInfoStore:s,enter:f,leave:S,initial:l}},computed:{breadcrumb(){return this.itemProvider.paramHolder.catName&&this.itemProvider.paramHolder.subCatName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,url:route("fe_sub_category",{cat_id:this.query.cat_id,cat_name:this.query.cat_name})},{label:this.itemProvider.paramHolder.subCatName,color:"text-fePrimary-500"}]:this.itemProvider.paramHolder.catName?[{label:p("item_detail__home"),url:route("dashboard")},{label:p("category_list__title"),url:route("fe_category.index")},{label:this.itemProvider.paramHolder.catName,color:"text-fePrimary-500"}]:[{label:p("item_detail__home"),url:route("dashboard")},{label:p("fe__search_result"),color:"text-fePrimary-500"}]}}},xo={class:"sm:mt-32 lg:mt-36 mt-28"},ko={class:"flex flex-col sm:flex-row"},Lo={class:"flex flex-row sm:mt-0 mt-6"},No={class:"relative mt-4 sm:mt-10 flex flex-row"},Oo={class:"w-64 me-7 hidden sm:flex flex-col shadow-md dark:bg-feSecondary-800 h-full p-4 rounded-lg"},Ho={class:"w-full"},Do={class:"flex flex-row justify-end"},Fo={class:"flex flex-row"},Co={class:"sm:block hidden"},To={class:"sm:hidden block"},Ao={key:0,class:"flex justify-between sm:hidden flex-col absolute top-10 right-[40px]"},Bo={class:"flex flex-col w-68 p-8 h-auto bg-feAchromatic-50 dark:bg-feSecondary-800 shadow-xl rounded-lg"},Eo={class:"mx-auto"};function Ro(b,t,s,e,c,l){const _=r("ps-breadcrumb-2"),u=r("clear-button"),d=r("category-drop-down"),f=r("discount-section"),S=r("stock-section"),g=r("price-range-input"),h=r("custom-field-section"),P=r("city-dropdown"),v=r("township-dropdown"),I=r("pick-location-button"),x=r("keyword-input"),k=r("sort-and-type-section"),V=r("mobile-filter-button"),G=r("item-vertical-list"),M=r("ps-ad-sense"),q=r("ps-loading-dialog"),j=r("ps-content-container");return n(),a(j,null,{content:U(()=>{var L,N,O,H,D,F,C;return[i("div",xo,[i("div",ko,[i("div",Lo,[o(_,{items:l.breadcrumb},null,8,["items"])])]),i("div",No,[i("div",Oo,[o(u),o(d),(L=e.appInfoStore)!=null&&L.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(N=e.appInfoStore)==null?void 0:N.isSoldOutFeatureSettingOn()},null,8,["isSoldOutFeatureSettingOn"]),(O=e.appInfoStore)!=null&&O.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(H=e.appInfoStore)!=null&&H.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(D=e.appInfoStore)!=null&&D.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)]),i("div",Ho,[i("div",Do,[i("div",Fo,[o(x,{class:"sm:block hidden mx-3"}),i("div",Co,[o(k,{isNoPriceSettingOn:(F=e.appInfoStore)==null?void 0:F.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(V)])]),o(x,{class:"sm:hidden mb-4 mt-3 sm:mb-0"}),i("div",To,[o(k,{isNoPriceSettingOn:(C=e.appInfoStore)==null?void 0:C.isNoPriceSettingOn()},null,8,["isNoPriceSettingOn"])]),o(G,{initial:e.initial},null,8,["initial"])]),e.itemProvider.showPopUpFilter?(n(),Q("div",Ao,[o(W,{onEnter:e.enter,onLeave:e.leave},{default:U(()=>{var T,A,B,E,R;return[i("div",Bo,[o(u),o(d,{class:"mb-12"}),(T=e.appInfoStore)!=null&&T.isShowDiscount()?(n(),a(f,{key:0})):m("",!0),o(S,{isSoldOutFeatureSettingOn:(A=e.appInfoStore)==null?void 0:A.isSoldOutFeatureSettingOn(),spaceWrap:!1},null,8,["isSoldOutFeatureSettingOn"]),(B=e.appInfoStore)!=null&&B.isNoPriceSettingOn()?m("",!0):(n(),a(g,{key:1})),o(h),o(P),(E=e.appInfoStore)!=null&&E.isShowSubLocation()?(n(),a(v,{key:2})):m("",!0),(R=e.appInfoStore)!=null&&R.isFilterLocationOn()?(n(),a(I,{key:3})):m("",!0)])]}),_:1},8,["onEnter","onLeave"])])):m("",!0)])]),i("div",Eo,[o(M,{adFormat:"horizontal"})]),o(q,{ref:"ps_loading_dialog",class:"z-40"},null,512)]}),_:1})}var Ie=vo(Io,[["render",Ro],["__scopeId","data-v-ee82a632"]]);export{Ie as default};
