import{aJ as T,d as H,i as p,Q as $,j as z,A as U,z as j,bC as E,C as R,o as s,c as d,a as l,h as F,b as a,f as I,w as t,q as g,t as m,g as C,F as M,s as Y,n as D,D as q,r as u}from"./app.0e502cc5.js";import G from"./PsIcon.dc31c2db.js";import J from"./PsDropdown.f31a931d.js";import Q from"./PsDropdownSelect.8d0bad23.js";import W from"./PsIconToggle.5f73bff4.js";import V from"./PsInputWithLeftIcon.ae1f5479.js";import X from"./PsLabel.3cf95094.js";import{P as Z}from"./PsValueStore.a232cbb1.js";import{u as oo}from"./AppInfoStore.266a6525.js";import{u as eo}from"./ItemLocationTownshipStore.d4fe0c18.js";import{L as ao,u as to}from"./LocationParameterHolder.a5eab253.js";import{P as no}from"./PsUtils.78b0d4de.js";import{A as so}from"./AppInfoParameterHolder.e24d894d.js";import{_ as lo}from"./plugin-vue_export-helper.21dcd24c.js";import"./PsApiService.98e573c3.js";import"./PsObject.a17ef38f.js";import"./DefaultPhoto.cc755f93.js";import"./ps_constants.0e2a11f9.js";import"./ItemLocation.d1b92a80.js";import"./PsSepetetedStore.9a31ac47.js";const ro=T(()=>E(()=>import("./LocationModal.4fe826bf.js"),["assets/LocationModal.4fe826bf.js","assets/app.0e502cc5.js","assets/app.aef5a90c.css","assets/PsModal.20834757.js","assets/PsModal.d437d3a8.css","assets/vue-neat-modal.d03c5dee.js","assets/vue-neat-modal.29af7d11.css","assets/PsLine.4597488d.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/PsLabel.3cf95094.js","assets/PsIcon.dc31c2db.js","assets/PsButton.bc5ed803.js","assets/PsDropdown.f31a931d.js","assets/PsValueStore.a232cbb1.js","assets/PsInputWithLeftIcon.ae1f5479.js","assets/PsLabelCaption.a33ce9c4.js","assets/LocationParameterHolder.a5eab253.js","assets/PsApiService.98e573c3.js","assets/ItemLocation.d1b92a80.js","assets/PsObject.a17ef38f.js","assets/PsSepetetedStore.9a31ac47.js","assets/ps_constants.0e2a11f9.js","assets/AppInfoStore.266a6525.js","assets/DefaultPhoto.cc755f93.js","assets/ItemLocationTownshipStore.d4fe0c18.js"])),io=H({components:{PsIcon:G,PsIconToggle:W,PsDropdown:J,PsLabel:X,PsDropdownSelect:Q,LocationModal:ro,PsInputWithLeftIcon:V},props:{topOfPage:{type:Boolean,default:!1}},setup(o){const n=q(),P=p(localStorage.activeLanguage),f=Z(),y=oo(),_=f.getLoginUserId(),i=p(!1),r=new ao().getDefaultParameterHolder(),b=new so;b.userId=_;const w=p($().props.languages),v=p(""),L=to("navtab-location"),e=eo("navtab-township"),h=p(!0),k=p();function x(c){this.filteredLanguage=$().props.languages.filter(S=>S.name.toLowerCase().includes(c.toLowerCase()))}function B(c){R(c.symbol),n.dispatch("handleActiveLanguage",c.symbol)}async function K(){i.value=!0,await no.waitingComponent(k),k.value.openModal()}async function A(){var S,N;await L.resetItemLocationList(_,r);let c=(N=(S=y.appInfo.data)==null?void 0:S.psAppSetting)==null?void 0:N.isSubLocation;(localStorage.locationName===""||localStorage.locationName===void 0)&&(localStorage.locationName="Select Your Location",localStorage.locationId="",localStorage.locationLat="",localStorage.locationLng=""),c=="1"&&(localStorage.subLocationName===""||localStorage.subLocationName===void 0)?(localStorage.subLocationId="",localStorage.subLocationName="All"):c!="1"&&(localStorage.subLocationName!==""||localStorage.subLocationName!==void 0)&&(localStorage.subLocationId="",localStorage.subLocationName=""),f.replaceLocation(localStorage.locationId,localStorage.locationName,localStorage.locationLat,localStorage.locationLng),f.replaceSubLocation(localStorage.subLocationId,localStorage.subLocationName)}function O(){window.location.pathname.includes("item-list")?location.replace(window.location.origin+window.location.pathname+`?item_location_id=${localStorage.locationId}&item_location_township_id=${localStorage.subLocationId}&order_by=added_date&order_type=desc&status=1`):window.location.reload()}return z(()=>{A()}),{handleLanguage:B,activeLanguage:P,dataReady:h,ps_location_modal:k,itemLocationTownshipStore:e,itemLocationStore:L,openLocationModal:K,changeLocation:O,loadLocationData:A,languageSearch:x,appInfoStore:y,psValueStore:f,PsInputWithLeftIcon:V,filteredLanguage:w,languageKeys:v,showLocationModal:i}},methods:{...U(["toggleDarkMode"])},computed:{...j(["isDarkMode"])}}),co={class:"xl:w-feLarge lg:w-large w-full flex justify-between mx-4 sm:mx-6 lg:mx-auto"},po={key:0,class:"flex gap-4"},mo={class:""},uo=["id"],go={key:0},fo=l("hr",{class:"bg-feSecondary-400 h-0.5"},null,-1),ho={class:"pt-1 z-30"},Lo={key:0},So={key:1},yo=["onClick"],_o={class:"flex items-center gap-3"},bo=g("Dark");function wo(o,n,P,f,y,_){const i=u("ps-icon"),r=u("ps-label"),b=u("ps-input-with-left-icon"),w=u("ps-dropdown"),v=u("ps-icon-toggle"),L=u("location-modal");return s(),d(M,null,[l("nav",{class:D(["fixed z-50 w-full h-10 flex items-center bg-feSecondary-900",o.topOfPage?" ":"hidden"])},[l("div",co,[l("div",{class:"flex items-center cursor-pointer",onClick:n[0]||(n[0]=F((...e)=>o.openLocationModal&&o.openLocationModal(...e),["prevent"]))},[a(i,{name:"locationBig",class:"text-feSecondary-100 me-2"}),o.psValueStore.locationName!="Select Your Location"?(s(),I(r,{key:0,textColor:"text-feSecondary-200 dark:text-feAchromatic-50",class:"text-sm hidden md:block"},{default:t(()=>{var e,h;return[g(m(o.psValueStore.locationName)+m(((h=(e=o.appInfoStore.appInfo.data)==null?void 0:e.psAppSetting)==null?void 0:h.isSubLocation)=="1"?`,${o.psValueStore.subLocationName}`:""),1)]}),_:1})):(s(),I(r,{key:1,textColor:"text-feSecondary-200 dark:text-feAchromatic-50",class:"text-sm hidden md:block"},{default:t(()=>[g(m(o.$t("select_your_location")),1)]),_:1}))]),o.dataReady?(s(),d("div",po,[l("div",mo,[a(w,{h:"h-64",align:"left"},{select:t(()=>[a(r,{class:""},{default:t(()=>[l("button",{type:"button",class:"inline-flex items-center content-start justify-between w-full leading-5 font-medium text-sm focus:outline-none transition ease-in-out duration-150 btn-focus text-feAchromatic-50",id:o.$page.props.languages.filter(e=>e.symbol==o.activeLanguage)[0].name,"aria-haspopup":"true","aria-expanded":"true"},[g(m(o.$page.props.languages.filter(e=>e.symbol==o.activeLanguage)[0].name)+" ",1),a(i,{name:"downArrow",textColor:"text-feAchromatic-50",class:"ms-2",w:"24",h:"24"})],8,uo)]),_:1})]),filter:t(()=>[l("div",null,[a(b,{class:"bg-feSecondary-100 dark:bg-transparent shadow-none",rounded:"rounded-none",theme:"border-none  focus:ring-0 focus:ring-transparent text-feSecondary-500 dark:text-feAchromatic-50",height:"h-10",placeholderColor:"placeholder-feSecondary-300",onKeyup:n[2]||(n[2]=e=>o.languageSearch(o.languageKeys)),value:o.languageKeys,"onUpdate:value":n[3]||(n[3]=e=>o.languageKeys=e),placeholder:o.$t("search_language"),style:{width:"14.5rem"}},{icon:t(()=>[a(i,{textColor:"text-fePrimary-500 dark:text-feAchromatic-500",name:"search",class:"cursor-pointer"})]),removeIcon:t(()=>[o.languageKeys!=""?(s(),d("div",go,[a(i,{textColor:"text-feAchromatic-500 dark:text-feAchromatic-500",name:"close",class:"cursor-pointer",onClick:n[1]||(n[1]=e=>[o.languageKeys="",o.filteredLanguage=o.$page.props.languages])})])):C("",!0)]),_:1},8,["value","placeholder"])]),fo]),list:t(()=>[l("div",ho,[o.filteredLanguage.length===0?(s(),d("div",Lo,[a(r,{class:"ms-2"},{default:t(()=>[g(m(o.$t("no_result_found")),1)]),_:1})])):(s(),d("div",So,[(s(!0),d(M,null,Y(o.filteredLanguage,e=>(s(),d("div",{key:e.id,class:"w-56 flex py-4 px-2 hover:bg-fePrimary-50 dark:hover:bg-fePrimary-900 cursor-pointer items-center",onClick:h=>o.handleLanguage(e)},[a(r,{class:D(["ms-2",e.symbol==o.activeLanguage?" font-bold":""])},{default:t(()=>[g(m(e.name),1)]),_:2},1032,["class"])],8,yo))),128))]))])]),_:1})]),l("div",_o,[a(r,{textColor:"text-feAchromatic-50"},{default:t(()=>[bo]),_:1}),a(v,{toggleOffIcon:"day",selectedValue:o.isDarkMode,onOnChange:o.toggleDarkMode},null,8,["selectedValue","onOnChange"])])])):C("",!0)])],2),o.showLocationModal?(s(),I(L,{key:0,onChangeLocation:o.changeLocation,ref:"ps_location_modal"},null,8,["onChangeLocation"])):C("",!0)],64)}var Eo=lo(io,[["render",wo]]);export{Eo as default};
